# This file defines all application routes (Higher priority routes first)
# ~~~~

# TODO: Do we need the Builder ABI version in the URL?

# Templates
GET     /api/templates/list         controllers.api.Templates.list
POST    /api/templates/clone        controllers.api.Templates.cloneTemplate

# Operations on an app
# TODO: Should these take the app location as a request parameter?
GET     /api/app/details            controllers.api.App.getDetails(location)
GET     /api/app/history            controllers.api.App.getHistory

# TODO: GET? POST? PUT?
GET     /api/app/open               controllers.api.App.openLocation(location)
GET     /api/app/start              controllers.api.App.startApp(location)

# Local system operations
GET     /api/local/env              controllers.api.Local.getEnv
GET     /api/local/browse           controllers.api.Local.browse(location)
GET     /api/local/show             controllers.api.Local.show(location)


# Plugin API
GET    /api/plugin/*file            controllers.Assets.at(path="/public/joshplugins", file)

GET     /webjars/*file              controllers.WebJarAssets.at(file)

# Events API
GET     /api/event/stream           controllers.api.Events.eventSource
GET     /api/event/test             controllers.api.Events.test
GET     /api/event/kill             controllers.api.Events.kill

GET     /                            controllers.Application.index
GET     /home                        controllers.Application.forceHome
GET     /app                         controllers.Application.app

GET     /                            controllers.Application.index
GET     /app                         controllers.Application.app

# Map static resources from the /public folder to the /assets URL path
GET     /public/*file               controllers.Assets.at(path="/public", file)
