# This file defines all application routes (Higher priority routes first)
# ~~~~

# TODO: Do we need the Builder ABI version in the URL?

# Templates
GET     /api/templates/list         controllers.api.Templates.list
POST    /api/templates/clone        controllers.api.Templates.cloneTemplate

# Operations on an app
# TODO: Should these take the app location as a request parameter?
GET     /api/app/details            controllers.api.App.getDetails(location)
GET     /api/app/history            controllers.api.App.getHistory

# TODO: GET? POST? PUT?
GET     /api/app/open               controllers.api.App.openLocation(location)
GET     /api/app/start              controllers.api.App.startApp(location)

# Local system operations
GET     /api/local/env                  controllers.api.Local.getEnv


# Plugin API
GET    /api/plugin/*file            controllers.Assets.at(path="/public/plugins", file)

GET     /webjars/*file              controllers.WebJarAssets.at(file)

# Events API
GET     /api/event/stream               controllers.api.Events.eventSource
GET     /api/event/test                 controllers.api.Events.test
GET     /api/event/kill                 controllers.api.Events.kill

# Map static resources from the /public folder to the /assets URL path
GET     /                           controllers.Assets.at(path="/public", file="index.html")
GET     /app                        controllers.Assets.at(path="/public", file="index.html")
GET     /public/*file               controllers.Assets.at(path="/public", file)
